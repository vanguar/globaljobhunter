{% extends "layout.html" %}
{% block title %}–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ ‚Äî –ø–æ–º–æ—â—å –±–µ–∂–µ–Ω—Ü–∞–º –∏ –ø–µ—Ä–µ—Å–µ–ª–µ–Ω—Ü–∞–º{% endblock %}

{% block content %}
<section class="bg-light border-bottom py-5">
  <div class="container">
    <div class="row align-items-center g-4">
      <div class="col-lg-8">
        <h1 class="display-6 fw-bold mb-2"
            data-i18n="–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏: –ø–æ–º–æ—â—å –±–µ–∂–µ–Ω—Ü–∞–º">–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏: –ø–æ–º–æ—â—å –±–µ–∂–µ–Ω—Ü–∞–º</h1>
        <p class="lead mb-0"
           data-i18n="–ü–æ–¥–±–æ—Ä–∫–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤, —Ñ–æ–Ω–¥–æ–≤ –∏ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π: –∂–∏–ª—å—ë, –≤—ã–ø–ª–∞—Ç—ã, –º–µ–¥–∏—Ü–∏–Ω–∞, –ø—Ä–∞–≤–æ–≤–∞—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Å—Ç—Ä–∞–Ω–µ, —Ä–µ–≥–∏–æ–Ω—É –∏ —Ç–∏–ø—É –ø–æ–º–æ—â–∏.">
           –ü–æ–¥–±–æ—Ä–∫–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤, —Ñ–æ–Ω–¥–æ–≤ –∏ –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π: –∂–∏–ª—å—ë, –≤—ã–ø–ª–∞—Ç—ã, –º–µ–¥–∏—Ü–∏–Ω–∞, –ø—Ä–∞–≤–æ–≤–∞—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Å—Ç—Ä–∞–Ω–µ, —Ä–µ–≥–∏–æ–Ω—É –∏ —Ç–∏–ø—É –ø–æ–º–æ—â–∏.
        </p>
      </div>

      <div class="col-lg-4">
        <div class="p-3 rounded-3 bg-white shadow-sm small">
          <div class="d-flex align-items-start">
            <i class="bi bi-info-circle me-2"></i>
            <div>
              <div class="fw-semibold" data-i18n="–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</div>
              <div data-i18n="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω –∏–ª–∏ —Ç–∏–ø –ø–æ–º–æ—â–∏. –ù–∞–∂–º–∏—Ç–µ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ.">
                –í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω –∏–ª–∏ —Ç–∏–ø –ø–æ–º–æ—â–∏. –ù–∞–∂–º–∏—Ç–µ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –§–∏–ª—å—Ç—Ä—ã -->
    <div class="row mt-4 gy-3">
      <div class="col-md-6">
        <label class="form-label fw-semibold" data-i18n="–ü–æ–∏—Å–∫">–ü–æ–∏—Å–∫</label>
        <div class="input-group">
          <span class="input-group-text bg-white"><i class="bi bi-search"></i></span>
          <input id="searchInput" class="form-control" type="search"
                 placeholder="–°—Ç—Ä–∞–Ω–∞, –≥–æ—Ä–æ–¥, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, —Ç–∏–ø –ø–æ–º–æ—â–∏..."
                 data-i18n="–°—Ç—Ä–∞–Ω–∞, –≥–æ—Ä–æ–¥, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, —Ç–∏–ø –ø–æ–º–æ—â–∏...">
        </div>
      </div>
      <div class="col-md-3">
        <label class="form-label fw-semibold" data-i18n="–†–µ–≥–∏–æ–Ω">–†–µ–≥–∏–æ–Ω</label>
        <select id="regionSelect" class="form-select">
          <option value="" data-i18n="–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã">–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã</option>
        </select>
      </div>
      <div class="col-md-3">
        <label class="form-label fw-semibold" data-i18n="–¢–∏–ø –ø–æ–º–æ—â–∏">–¢–∏–ø –ø–æ–º–æ—â–∏</label>
        <select id="tagSelect" class="form-select">
          <option value="" data-i18n="–í—Å–µ —Ç–∏–ø—ã">–í—Å–µ —Ç–∏–ø—ã</option>
        </select>
      </div>
    </div>
  </div>
</section>

<section class="py-5">
  <div class="container">
    <div id="stats" class="d-flex flex-wrap gap-3 mb-4 small text-muted"></div>
    <div id="results" class="results"></div>

    <div id="emptyState" class="text-center d-none py-5">
      <div class="display-6" data-i18n="ü§î –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–æ—Å—å">ü§î –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–æ—Å—å</div>
      <p class="text-muted"
         data-i18n="–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω / —Ç–∏–ø –ø–æ–º–æ—â–∏.">
         –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω / —Ç–∏–ø –ø–æ–º–æ—â–∏.
      </p>
    </div>
    <div class="text-center mt-5">
      <a href="{{ url_for('index') }}"
        class="btn btn-primary btn-lg px-4 w-100 w-md-auto"
        role="button" aria-label="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∏—Å–∫—É –≤–∞–∫–∞–Ω—Å–∏–π">
        <i class="bi bi-arrow-left-circle me-2"></i>
        <span data-i18n="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∏—Å–∫—É –≤–∞–∫–∞–Ω—Å–∏–π">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∏—Å–∫—É –≤–∞–∫–∞–Ω—Å–∏–π</span>
      </a>
    </div>

    <div class="text-center text-muted mt-5 pt-4 border-top">
      <p class="mb-1" data-i18n="–ù–∞—à–ª–∏ –æ—à–∏–±–∫—É –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—â—É—é —Å—Å—ã–ª–∫—É?">–ù–∞—à–ª–∏ –æ—à–∏–±–∫—É –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—â—É—é —Å—Å—ã–ª–∫—É?</p>
      <p class="mb-0">
        <span data-i18n="–ë—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å!">–ë—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å!</span>
        <a href="mailto:tzvanguardia@gmail.com">tzvanguardia@gmail.com</a>
      </p>
    </div>
  </div>
</section>

<button id="toTop" class="to-top btn btn-primary btn-lg rounded-circle" aria-label="–ù–∞–≤–µ—Ä—Ö">
  <i class="bi bi-arrow-up-short" style="font-size:1.5rem"></i>
</button>

<style>
/* ===== –°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏¬ª ===== */
html,body{overflow-x:hidden}

.country-section{margin-bottom:2.25rem}
.country-header{
  display:flex;align-items:center;gap:.75rem;
  background:#f0f4ff;border:1px solid #d9e4ff;border-left:6px solid #3b6fff;
  padding:.75rem 1rem;border-radius:14px;margin-bottom:.9rem
}
.country-header .fi{font-size:1.25rem}
.country-name{font-weight:700}
.country-region{margin-left:auto}
.country-region .badge{background:#fff;border:1px solid #dfe7ff;color:#3254c4;font-weight:600}

.cards-grid{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:1rem}
@media (max-width:575.98px){.cards-grid{grid-template-columns:repeat(1,1fr)}}
@media (min-width:576px) and (max-width:767.98px){.cards-grid{grid-template-columns:repeat(2,1fr)}}
@media (min-width:768px) and (max-width:991.98px){.cards-grid{grid-template-columns:repeat(3,1fr)}}
@media (min-width:992px){.cards-grid{grid-template-columns:repeat(4,1fr)}}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ */
.link-card{
  position:relative;
  background:#fff;border-radius:16px;border:1px solid #e9ecef;
  box-shadow:0 4px 14px rgba(0,0,0,.04);
  padding:1rem 1rem .75rem;
  display:flex;flex-direction:column;min-height:220px;
  transition:box-shadow .16s ease;
}
.link-card:hover{box-shadow:0 8px 24px rgba(0,0,0,.06)}
.link-card.clickable{ cursor: pointer; }

.card-top{display:flex;align-items:flex-start;gap:.75rem;margin-bottom:.5rem}
.flag{font-size:1.1rem;line-height:1}

.card-top>div{display:flex;flex-direction:column}
.link-title{font-weight:700;font-size:1rem;line-height:1.2;margin:0 0 .65rem 0} /* –û–ë–™–ï–î–ò–ù–ï–ù–û */
/* ===== –ö–∞—Ä—Ç–æ—á–∫–∞: —Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω—ã + –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ–ª–æ—Å–∫–∞ ===== */
.link-card .country-line{
  position: relative;
  display: inline-block;

  /* –ª–∏–Ω–∏—è –±–ª–∏–∂–µ –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É */
  margin-top: .10rem;

  /* –∑–∞–∑–æ—Ä –º–µ–∂–¥—É –ø–æ–ª–æ—Å–æ–π –∏ —Ç–µ–∫—Å—Ç–æ–º "–í–µ–ª–∏–∫–∞ –ë—Ä–∏—Ç–∞–Ω—ñ—è" */
  padding-top: .40rem;

  /* –∑–∞–∑–æ—Ä –¥–æ –±–µ–π–¥–∂–µ–π EN/UK (—É–±–∏—Ä–∞–µ—Ç –Ω–∞–ª–æ–∂–µ–Ω–∏–µ) */
  margin-bottom: .45rem;

  /* –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å "–í–µ–ª–∏–∫–∞ –ë—Ä–∏—Ç–∞–Ω—ñ—è" */
  white-space: nowrap;

  line-height: 1.15;

  /* —Å–±—Ä–æ—Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å–æ style.css */
  width: auto !important;
  height: auto !important;
  background: none !important;
  opacity: 1 !important;
}

/* —Å–∞–º–∞ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–∞—è –ø–æ–ª–æ—Å–∞ */
.link-card .country-line::before{
  content: "";
  position: absolute;
  top: 0; left: 0;
  height: 4px;
  width: 120px;  /* —Å–ª–µ–≥–∫–∞ –¥–ª–∏–Ω–Ω–µ–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
  background: linear-gradient(90deg, #0d6efd 0%, #ffd700 100%);
  border-radius: 999px;
}

.badges{ display:flex; flex-wrap:wrap; gap:.35rem; margin-top:.8rem; } /* –û–ë–™–ï–î–ò–ù–ï–ù–û */
.badges .badge{font-weight:500;border:1px solid rgba(0,0,0,.06);background:#f8f9fa;color:#495057}

.link-url a{word-break:break-word;color:#0d6efd;text-decoration:none}
.link-url a:hover{text-decoration:underline;text-underline-offset:2px}

.link-desc{color:#5c6773;font-size:.92rem;margin-top:.35rem;min-height:2.5em}
.meta{margin-top:auto;display:flex;align-items:center;justify-content:space-between;padding-top:.5rem;border-top:1px dashed #eef2f6}
.meta .tags{display:flex;gap:.35rem;flex-wrap:wrap}
.meta .tag{font-size:.75rem;padding:.15rem .45rem;border-radius:999px;background:#eef3ff;color:#2847a1}

.copy-btn{
  border:none;background:transparent;color:#6c757d;
  position:relative;z-index:2; /* –û–ë–™–ï–î–ò–ù–ï–ù–û (z-index: 10 –Ω–µ –Ω—É–∂–µ–Ω) */
}
.copy-btn:hover{color:#0d6efd}

/* .stretched-link –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –ø—Ä–∞–≤–∏–ª–æ —É–¥–∞–ª–µ–Ω–æ */

.to-top{position:fixed;right:1rem;bottom:1rem;z-index:50;display:none;box-shadow:0 10px 30px rgba(13,110,253,.35)}
label.form-label{margin-bottom:.35rem}
.input-group-text{border-right:0}
.input-group .form-control{border-left:0}
#stats .stat{background:#f8f9fa;padding:.35rem .6rem;border-radius:999px;border:1px solid #edf1f6}

/* FIX: –∞–≤—Ç–æ–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç —Ç–µ–∫—Å—Ç .country-line –≤–æ span/mark/font –∏ —Ç.–ø. */
.country-line *, .country-line span, .country-line mark, .country-line font{
  background: none !important;
  border: 0 !important;
  padding: 0 !important;
  margin: 0 !important;
  border-radius: 0 !important;
  display: inline !important;
  box-shadow: none !important;
  line-height: inherit !important;
}

/* –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã .link-card, :hover –∏ —Ç.–¥. —É–¥–∞–ª–µ–Ω—ã */
</style>

<script>
/* ===== —è–∑—ã–∫ –∏–∑ —Ç–≤–æ–µ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è ===== */
function currentLang(){
  const btn = document.querySelector('#language-switcher-container .dropdown-toggle');
  if(btn){
    const txt = (btn.textContent||'').toLowerCase();
    if(txt.includes('en')) return 'en';
    if(txt.includes('ua') || txt.includes('—É–∫—Ä')) return 'uk';
    return 'ru';
  }
  const htmlLang = (document.documentElement.getAttribute('lang')||'ru').toLowerCase();
  if(htmlLang.startsWith('en')) return 'en';
  if(htmlLang.startsWith('uk') || htmlLang.startsWith('ua')) return 'uk';
  return 'ru';
}

/* ===== –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–±–æ—Ä –æ–ø–∏—Å–∞–Ω–∏—è: –ë–ï–ó smartTranslate ===== */
function pickDesc(site, lang){
  const dru = site.desc_ru || (site.desc && site.desc.ru) || '';
  const den = site.desc_en || (site.desc && site.desc.en) || '';
  const duk = site.desc_uk || (site.desc && site.desc.uk) || '';

  if (lang === 'uk') return duk || dru || den;
  if (lang === 'en') return den || duk || dru;
  return dru || den || duk;
}

/* ===== –∞–ª–∏–∞—Å—ã –¥–ª—è –∞–Ω–≥–ª. –ø–æ–∏—Å–∫–∞ (en‚Üíru) ===== */
const ALIAS = {
  'western europe':'–ó–∞–ø–∞–¥–Ω–∞—è –ï–≤—Ä–æ–ø–∞','central europe':'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞','southern europe':'–Æ–∂–Ω–∞—è –ï–≤—Ä–æ–ø–∞',
  'benelux':'–ë–µ–Ω–∏–ª—é–∫—Å','baltics':'–ü—Ä–∏–±–∞–ª—Ç–∏–∫–∞','scandinavia':'–°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è','north america':'–°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞','oceania':'–û–∫–µ–∞–Ω–∏—è',
  poland:'–ü–æ–ª—å—à–∞', germany:'–ì–µ—Ä–º–∞–Ω–∏—è', belgium:'–ë–µ–ª—å–≥–∏—è', netherlands:'–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã',
  france:'–§—Ä–∞–Ω—Ü–∏—è', austria:'–ê–≤—Å—Ç—Ä–∏—è', czech:'–ß–µ—Ö–∏—è', 'czechia':'–ß–µ—Ö–∏—è', slovakia:'–°–ª–æ–≤–∞–∫–∏—è', hungary:'–í–µ–Ω–≥—Ä–∏—è',
  romania:'–†—É–º—ã–Ω–∏—è', bulgaria:'–ë–æ–ª–≥–∞—Ä–∏—è', greece:'–ì—Ä–µ—Ü–∏—è', croatia:'–•–æ—Ä–≤–∞—Ç–∏—è',
  norway:'–ù–æ—Ä–≤–µ–≥–∏—è', sweden:'–®–≤–µ—Ü–∏—è', denmark:'–î–∞–Ω–∏—è', finland:'–§–∏–Ω–ª—è–Ω–¥–∏—è', iceland:'–ò—Å–ª–∞–Ω–¥–∏—è',
  italy:'–ò—Ç–∞–ª–∏—è', spain:'–ò—Å–ø–∞–Ω–∏—è', portugal:'–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è', ireland:'–ò—Ä–ª–∞–Ω–¥–∏—è',
  'united kingdom':'–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è', uk:'–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è', england:'–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è',
  usa:'–°–®–ê', america:'–°–®–ê', canada:'–ö–∞–Ω–∞–¥–∞', australia:'–ê–≤—Å—Ç—Ä–∞–ª–∏—è', 'new zealand':'–ù–æ–≤–∞—è –ó–µ–ª–∞–Ω–¥–∏—è',
  housing:'–∂–∏–ª—å—ë', accommodation:'–∂–∏–ª—å—ë', shelter:'–∂–∏–ª—å—ë',
  benefits:'–ø–æ—Å–æ–±–∏—è', 'cash support':'–ø–æ—Å–æ–±–∏—è',
  legal:'–ø—Ä–∞–≤–æ–≤–∞—è', 'legal aid':'–ø—Ä–∞–≤–æ–≤–∞—è', 'legal counselling':'—é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è',
  healthcare:'–º–µ–¥–∏—Ü–∏–Ω–∞', medical:'–º–µ–¥–∏—Ü–∏–Ω–∞', health:'–º–µ–¥–∏—Ü–∏–Ω–∞',
  jobs:'—Ä–∞–±–æ—Ç–∞', employment:'—Ä–∞–±–æ—Ç–∞', training:'–æ–±—É—á–µ–Ω–∏–µ',
  integration:'–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è', education:'–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', language:'—è–∑—ã–∫',
  'temporary protection':'–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞', reception:'–ø—Ä–∏—ë–º', status:'—Å—Ç–∞—Ç—É—Å',
  humanitarian:'–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è', psychological:'–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è', volunteers:'–≤–æ–ª–æ–Ω—Ç—ë—Ä—ã',
  community:'—Å–æ–æ–±—â–µ—Å—Ç–≤–æ', events:'–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è', visa:'–≤–∏–∑–∞', 'access to services':'–¥–æ—Å—Ç—É–ø –∫ —É—Å–ª—É–≥–∞–º', sponsorship:'—Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ'
};
function normalizeQuery(q){
  const low = (q||'').toLowerCase();
  if(!low) return '';
  return low.replace(/\b([a-z][a-z\s\-]+)\b/gi, w=>{
    const k = w.trim().toLowerCase();
    return ALIAS[k] ? ALIAS[k] : k;
  });
}

/* ========= –î–ê–ù–ù–´–ï ========= */
const DATA = [
  /* –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è */
  {region:'–°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è', country:'–ù–æ—Ä–≤–µ–≥–∏—è', code:'no', items:[
    {name:'UDI ‚Äî –î–∏—Ä–µ–∫—Ç–æ—Ä–∞—Ç –ø–æ –¥–µ–ª–∞–º –∏–Ω–æ—Å—Ç—Ä–∞–Ω—Ü–µ–≤', url:'https://www.udi.no/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è','–∂–∏–ª—å—ë','–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ'], langs:['no','uk','ru','en'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏—ë–º–∞, –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞, —Ü–µ–Ω—Ç—Ä—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è, –ø—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏.', desc_en:'Official rules, temporary protection, reception centres, rights and duties.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–π–æ–º—É, —Ç–∏–º—á–∞—Å–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç, —Ü–µ–Ω—Ç—Ä–∏ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è, –ø—Ä–∞–≤–∞ —Ç–∞ –æ–±–æ–≤\'—è–∑–∫–∏.'},
    {name:'NAV ‚Äî –°–æ—Ü—Å—Ç—Ä–∞—Ö –∏ –∑–∞–Ω—è—Ç–æ—Å—Ç—å', url:'https://www.nav.no/', help:['–ø–æ—Å–æ–±–∏—è','—Ä–∞–±–æ—Ç–∞','–º–µ–¥–∏—Ü–∏–Ω–∞','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è'], langs:['no','uk','en'], desc_ru:'–í—ã–ø–ª–∞—Ç—ã, —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Å–æ—Ü–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –º–µ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ.', desc_en:'Benefits, jobs, social support and health insurance.', desc_uk:'–í–∏–ø–ª–∞—Ç–∏, –ø—Ä–∞—Ü–µ–≤–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, —Å–æ—Ü–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∞ –º–µ–¥–∏—á–Ω–µ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è.'},
    {name:'Caritas Norge', url:'https://www.caritas.no/', help:['–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è','—é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è','—è–∑—ã–∫'], langs:['no','en'], desc_ru:'–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –ø–æ–º–æ—â—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏, —è–∑—ã–∫–æ–≤—ã–µ –∫—É—Ä—Å—ã –∏ —Ü–µ–Ω—Ç—Ä—ã –ø–æ–º–æ—â–∏.', desc_en:'Counselling, documents help and language courses.', desc_uk:'–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó, –¥–æ–ø–æ–º–æ–≥–∞ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏, –º–æ–≤–Ω—ñ –∫—É—Ä—Å–∏ —Ç–∞ —Ü–µ–Ω—Ç—Ä–∏ –¥–æ–ø–æ–º–æ–≥–∏.'},
    {name:'Norwegian Red Cross', url:'https://www.rodekors.no/', help:['–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è','–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è','—è–∑—ã–∫'], langs:['no','en'], desc_ru:'–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫—É—Ä—Å—ã –Ω–æ—Ä–≤–µ–∂—Å–∫–æ–≥–æ.', desc_en:'Social support, volunteering and Norwegian language courses.', desc_uk:'–°–æ—Ü—ñ–∞–ª—å–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞, –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—å–∫—ñ –ø—Ä–æ–≥—Ä–∞–º–∏, –∫—É—Ä—Å–∏ –Ω–æ—Ä–≤–µ–∑—å–∫–æ—ó –º–æ–≤–∏.'}
  ]},
  {region:'–°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è', country:'–î–∞–Ω–∏—è', code:'dk', items:[
    {name:'New to Denmark (Immigration Service)', url:'https://www.nyidanmark.dk/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è'], langs:['da','en','uk'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ —Ñ–æ—Ä–º—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É –∑–∞—â–∏—Ç—ã –∏ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—é.', desc_en:'Official rules and forms for protection and stay.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ —Ñ–æ—Ä–º–∏ —â–æ–¥–æ —Å—Ç–∞—Ç—É—Å—É –∑–∞—Ö–∏—Å—Ç—É —Ç–∞ –ø–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è.'},
    {name:'DRC Danish Refugee Council', url:'https://drc.ngo/', help:['—é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è','–∂–∏–ª—å—ë','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è'], langs:['da','en','uk','ru'], desc_ru:'–ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.', desc_en:'Hotline, legal help, accommodation & integration support.', desc_uk:'–ì–∞—Ä—è—á–∞ –ª—ñ–Ω—ñ—è, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—ó, –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è–º —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é.'},
    {name:'Danish Red Cross', url:'https://www.rodekors.dk/', help:['–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è','–∂–∏–ª—å—ë','–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è'], langs:['da','en'], desc_ru:'–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ, –ø–æ–º–æ—â—å —Å–µ–º—å—è–º, –≤–æ–ª–æ–Ω—Ç—ë—Ä—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.', desc_en:'Accommodation, family support, volunteering.', desc_uk:'–¢–∏–º—á–∞—Å–æ–≤–µ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è, –¥–æ–ø–æ–º–æ–≥–∞ —Å—ñ–º\'—è–º, –≤–æ–ª–æ–Ω—Ç–µ—Ä—Å—å–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞.'}
  ]},
  {region:'–°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è', country:'–®–≤–µ—Ü–∏—è', code:'se', items:[
    {name:'Migrationsverket', url:'https://www.migrationsverket.se/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è','—Ä–∞–±–æ—Ç–∞'], langs:['sv','en','uk','ru'], desc_ru:'–í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ –∏ —Ä–∞–±–æ—Ç—É, –≤–æ–ø—Ä–æ—Å—ã —É–±–µ–∂–∏—â–∞.', desc_en:'Temporary protection, residence/work permits and asylum.', desc_uk:'–¢–∏–º—á–∞—Å–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç, –¥–æ–∑–≤–æ–ª–∏ –Ω–∞ –ø—Ä–æ–∂–∏–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–±–æ—Ç—É, –ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–∏—Ç—É–ª–∫—É.'},
    {name:'Informationsverige', url:'https://www.informationsverige.se/', help:['–∂–∏–ª—å—ë','–ø–æ—Å–æ–±–∏—è','–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è'], langs:['sv','en','uk','ru'], desc_ru:'–ì–æ—Å–ø–æ—Ä—Ç–∞–ª —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è –Ω–æ–≤–æ–ø—Ä–∏–±—ã–≤—à–∏—Ö.', desc_en:'Official portal with step-by-step guides for newcomers.', desc_uk:'–î–µ—Ä–∂–ø–æ—Ä—Ç–∞–ª –∑ –ø–æ–∫—Ä–æ–∫–æ–≤–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏ –¥–ª—è –Ω–æ–≤–æ–ø—Ä–∏–±—É–ª–∏—Ö.'}
  ]},
  {region:'–°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è', country:'–§–∏–Ω–ª—è–Ω–¥–∏—è', code:'fi', items:[
    {name:'Migri ‚Äî Finnish Immigration Service', url:'https://migri.fi/en/ukraine', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è'], langs:['fi','sv','en','uk','ru'], desc_ru:'–ü–æ—Ä—è–¥–æ–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç—ã, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–∞–≤–∞ –∏ —É—Å–ª—É–≥–∏.', desc_en:'How to get temporary protection, registration and services.', desc_uk:'–ü–æ—Ä—è–¥–æ–∫ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–∏–º—á–∞—Å–æ–≤–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –ø—Ä–∞–≤–∞ —Ç–∞ –ø–æ—Å–ª—É–≥–∏.'},
    {name:'InfoFinland', url:'https://www.infofinland.fi/', help:['–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è','–∂–∏–ª—å—ë','–æ–±—É—á–µ–Ω–∏–µ','–ø–æ—Å–æ–±–∏—è'], langs:['fi','sv','en','uk','ru'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ –∂–∏–∑–Ω–∏ –≤ –§–∏–Ω–ª—è–Ω–¥–∏–∏.', desc_en:'Official guide to living in Finland.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π –ø—É—Ç—ñ–≤–Ω–∏–∫ –ø–æ –∂–∏—Ç—Ç—é —É –§—ñ–Ω–ª—è–Ω–¥—ñ—ó.'}
  ]},

  /* –ó–∞–ø–∞–¥–Ω–∞—è –ï–≤—Ä–æ–ø–∞ */
  {region:'–ó–∞–ø–∞–¥–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ì–µ—Ä–º–∞–Ω–∏—è', code:'de', items:[
    {name:'Germany4Ukraine (Gov)', url:'https://www.germany4ukraine.de/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–∂–∏–ª—å—ë','–ø–æ—Å–æ–±–∏—è','—Ä–∞–±–æ—Ç–∞'], langs:['de','en','uk','ru'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∂–∏–ª—å—ë, —Ä–∞–±–æ—Ç–∞, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.', desc_en:'Official portal: registration, housing, jobs, social support.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π –ø–æ—Ä—Ç–∞–ª: —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –∂–∏—Ç–ª–æ, —Ä–æ–±–æ—Ç–∞, —Å–æ—Ü—ñ–∞–ª—å–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞.'},
    {name:'BAMF ‚Äî –§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–µ –≤–µ–¥–æ–º—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏', url:'https://www.bamf.de/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è','—è–∑—ã–∫'], langs:['de','en','uk','ru'], desc_ru:'–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã, —Å—Ç–∞—Ç—É—Å, –ø—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏.', desc_en:'Integration courses, status, rights and duties.', desc_uk:'–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ –∫—É—Ä—Å–∏, —Å—Ç–∞—Ç—É—Å, –ø—Ä–∞–≤–∞ —Ç–∞ –æ–±–æ–≤\'—è–∑–∫–∏.'}
  ]},
  {region:'–ó–∞–ø–∞–¥–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–§—Ä–∞–Ω—Ü–∏—è', code:'fr', items:[
    {name:'OFII ‚Äî –ò–º–º–∏–≥—Ä–∞—Ü–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è', url:'https://www.ofii.fr/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è'], langs:['fr','en','uk'], desc_ru:'–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ, –∂–∏–ª—å—ë, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–µ—Ä—ã.', desc_en:'Procedures, accommodation, integration measures.', desc_uk:'–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è, –∂–∏—Ç–ª–æ, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ –∑–∞—Ö–æ–¥–∏.'},
    {name:'Minist√®re de l‚ÄôInt√©rieur ‚Äî Ukraine', url:'https://www.interieur.gouv.fr/actualites/grands-dossiers/situation-en-ukraine', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è'], langs:['fr','en'], desc_ru:'–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø—Ä–∏—ë–º—É –≥—Ä–∞–∂–¥–∞–Ω –£–∫—Ä–∞–∏–Ω—ã.', desc_en:'Information on receiving people from Ukraine.', desc_uk:'–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —â–æ–¥–æ –ø—Ä–∏–π–æ–º—É –≥—Ä–æ–º–∞–¥—è–Ω –£–∫—Ä–∞—ó–Ω–∏.'}
  ]},
  {region:'–ó–∞–ø–∞–¥–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è', code:'gb', items:[
    {name:'GOV.UK ‚Äî Support for Ukrainians', url:'https://www.gov.uk/guidance/support-for-family-members-of-british-nationals-in-ukraine-and-ukrainian-nationals-in-ukraine-and-the-uk', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è','–∂–∏–ª—å—ë'], langs:['en','uk'], desc_ru:'–°—Ö–µ–º—ã –¥–ª—è —É–∫—Ä–∞–∏–Ω—Ü–µ–≤, –ø—Ä–∞–≤–∞ –∏ –¥–æ—Å—Ç—É–ø –∫ —É—Å–ª—É–≥–∞–º.', desc_en:'Schemes for Ukrainians, rights and access to services.', desc_uk:'–°—Ö–µ–º–∏ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤, –ø—Ä–∞–≤–∞ —Ç–∞ –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ—Å–ª—É–≥.'},
    {name:'Homes for Ukraine (sponsorship)', url:'https://www.gov.uk/guidance/homes-for-ukraine-sponsor-guidance', help:['–∂–∏–ª—å—ë','—Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ'], langs:['en','uk'], desc_ru:'–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–∞ –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –≤ —Å–µ–º—å—è—Ö.', desc_en:'Sponsorship and accommodation with host families.', desc_uk:'–ü—Ä–æ–≥—Ä–∞–º–∞ —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–∞ —Ç–∞ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –≤ —Å—ñ–º\'—è—Ö.'}
  ]},
  {region:'–ó–∞–ø–∞–¥–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ò—Ä–ª–∞–Ω–¥–∏—è', code:'ie', items:[
    {name:'Gov.ie ‚Äî Ukraine', url:'https://www.gov.ie/en/campaigns/bc537-irelands-response-to-the-situation-in-ukraine/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–∂–∏–ª—å—ë','–ø–æ—Å–æ–±–∏—è'], langs:['en','uk'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É.', desc_en:'Official info and how to get support.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —Ç–∞ —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É.'},
    {name:'HSE ‚Äî Health for Ukraine', url:'https://www.hse.ie/ukraine/', help:['–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['en','uk'], desc_ru:'–î–æ—Å—Ç—É–ø –∫ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é HSE.', desc_en:'Access to HSE healthcare.', desc_uk:'–î–æ—Å—Ç—É–ø –¥–æ –æ—Ö–æ—Ä–æ–Ω–∏ –∑–¥–æ—Ä–æ–≤\'—è HSE.'}
  ]},

  /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞ (—Å –ü–æ–ª—å—à–µ–π) */
  {region:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ü–æ–ª—å—à–∞', code:'pl', items:[
    {name:'UDSC ‚Äî –ü–æ–º–æ—â—å –≥—Ä–∞–∂–¥–∞–Ω–∞–º –£–∫—Ä–∞–∏–Ω—ã (Gov)', url:'https://www.gov.pl/web/udsc/ukraina', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è','–∂–∏–ª—å—ë'], langs:['pl','uk','ru','en'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º—É –ø—Ä–µ–±—ã–≤–∞–Ω–∏—é, –∑–∞—â–∏—Ç–µ –∏ –ø—Ä–∞–≤–∞–º.', desc_en:'Official information on temporary stay, protection and rights.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —â–æ–¥–æ —Ç–∏–º—á–∞—Å–æ–≤–æ–≥–æ –ø–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è, –∑–∞—Ö–∏—Å—Ç—É —Ç–∞ –ø—Ä–∞–≤.'},
    {name:'ZUS ‚Äî –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã', url:'https://www.zus.pl/', help:['–ø–æ—Å–æ–±–∏—è'], langs:['pl','uk','ru','en'], desc_ru:'–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã –∏ –ª—å–≥–æ—Ç—ã (ZUS).', desc_en:'Social benefits and payments (ZUS).', desc_uk:'–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –≤–∏–ø–ª–∞—Ç–∏ —Ç–∞ –ø—ñ–ª—å–≥–∏ (ZUS).'},
    {name:'NFZ ‚Äî –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω–¥ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è', url:'https://www.nfz.gov.pl/', help:['–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['pl','uk','en'], desc_ru:'–î–æ—Å—Ç—É–ø –∫ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â–∏ –∏ —Å—Ç—Ä–∞—Ö–æ–≤–∫–µ.', desc_en:'Access to healthcare and insurance.', desc_uk:'–î–æ—Å—Ç—É–ø –¥–æ –º–µ–¥–∏—á–Ω–æ—ó –¥–æ–ø–æ–º–æ–≥–∏ —Ç–∞ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è.'},
    {name:'Oferty.Praca ‚Äî –≥–æ—Å–≤–∞–∫–∞–Ω—Å–∏–∏', url:'https://oferty.praca.gov.pl/', help:['—Ä–∞–±–æ—Ç–∞'], langs:['pl','en'], desc_ru:'–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç—ã –≤ –ü–æ–ª—å—à–µ.', desc_en:'Official Polish job vacancies platform.', desc_uk:'–î–µ—Ä–∂–∞–≤–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ—à—É–∫—É —Ä–æ–±–æ—Ç–∏ –≤ –ü–æ–ª—å—â—ñ.'},
    {name:'Polish Red Cross', url:'https://pck.pl/', help:['–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è','–∂–∏–ª—å—ë'], langs:['pl','en'], desc_ru:'–ü–æ–ª—å—Å–∫–∏–π –ö—Ä–∞—Å–Ω—ã–π –ö—Ä–µ—Å—Ç: –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è –ø–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞.', desc_en:'Polish Red Cross: humanitarian aid and support.', desc_uk:'–ü–æ–ª—å—Å—å–∫–∏–π –ß–µ—Ä–≤–æ–Ω–∏–π –•—Ä–µ—Å—Ç: –≥—É–º–∞–Ω—ñ—Ç–∞—Ä–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞.'}
  ]},
  {region:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ê–≤—Å—Ç—Ä–∏—è', code:'at', items:[
    {name:'√ñsterreich.gv.at ‚Äî Ukraine', url:'https://www.oesterreich.gv.at/themen/leben_in_oesterreich/ukraine.html', help:['–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è','–ø—Ä–∞–≤–æ–≤–∞—è'], langs:['de','en','uk'], desc_ru:'–ì–æ—Å–ø–æ—Ä—Ç–∞–ª –¥–ª—è –ø—Ä–∏–±—ã–≤—à–∏—Ö –∏–∑ –£–∫—Ä–∞–∏–Ω—ã.', desc_en:'Government portal for people from Ukraine.', desc_uk:'–î–µ—Ä–∂–ø–æ—Ä—Ç–∞–ª –¥–ª—è –ø—Ä–∏–±—É–ª–∏—Ö –∑ –£–∫—Ä–∞—ó–Ω–∏.'},
    {name:'AMS ‚Äî Arbeitsmarktservice', url:'https://www.ams.at/', help:['—Ä–∞–±–æ—Ç–∞','–æ–±—É—á–µ–Ω–∏–µ'], langs:['de','en'], desc_ru:'–°–ª—É–∂–±–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –ê–≤—Å—Ç—Ä–∏–∏.', desc_en:'Public employment service.', desc_uk:'–°–ª—É–∂–±–∞ –∑–∞–π–Ω—è—Ç–æ—Å—Ç—ñ –ê–≤—Å—Ç—Ä—ñ—ó.'}
  ]},
  {region:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ß–µ—Ö–∏—è', code:'cz', items:[
    {name:'Ministry of Interior ‚Äî Ukraine', url:'https://www.mvcr.cz/uk/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞'], langs:['cs','en','uk'], desc_ru:'–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è –∏ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞.', desc_en:'Residence rules and temporary protection.', desc_uk:'–ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è —Ç–∞ —Ç–∏–º—á–∞—Å–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç.'}
   
  ]},
  {region:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–°–ª–æ–≤–∞–∫–∏—è', code:'sk', items:[
    {name:'UkraineSlovakia.sk', url:'https://ua.gov.sk/', help:['–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è','–∂–∏–ª—å—ë','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['sk','en','uk'], desc_ru:'–ü–æ—Ä—Ç–∞–ª –ø–æ–º–æ—â–∏ –≤ –°–ª–æ–≤–∞–∫–∏–∏.', desc_en:'Slovakia support portal.', desc_uk:'–ü–æ—Ä—Ç–∞–ª –¥–æ–ø–æ–º–æ–≥–∏ —É –°–ª–æ–≤–∞—á—á–∏–Ω—ñ.'}
  ]},
  {region:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–í–µ–Ω–≥—Ä–∏—è', code:'hu', items:[
    {name:'Gov.hu ‚Äî Ukraine', url:'https://safeinhungary.gov.hu/en', help:['–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è','–ø—Ä–∞–≤–æ–≤–∞—è'], langs:['hu','en','uk'], desc_ru:'–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø—Ä–∏–±—ã–≤—à–∏—Ö –∏–∑ –£–∫—Ä–∞–∏–Ω—ã.', desc_en:'Information for arrivals from Ukraine.', desc_uk:'–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–ª—è –ø—Ä–∏–±—É–ª–∏—Ö –∑ –£–∫—Ä–∞—ó–Ω–∏.'}
  ]},
  {region:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–†—É–º—ã–Ω–∏—è', code:'ro', items:[
    {name:'Dopomoha.ro', url:'https://dopomoha.ro/en', help:['–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è','–∂–∏–ª—å—ë','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['ro','en','uk'], desc_ru:'–ì–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–º–æ—â–∏ —É–∫—Ä–∞–∏–Ω—Ü–∞–º.', desc_en:'Government help platform for Ukrainians.', desc_uk:'–î–µ—Ä–∂–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–æ–ø–æ–º–æ–≥–∏ —É–∫—Ä–∞—ó–Ω—Ü—è–º.'}
  ]},
  {region:'–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ë–æ–ª–≥–∞—Ä–∏—è', code:'bg', items:[
    {name:'Ukraine.gov.bg', url:'https://ukraine.gov.bg/', help:['–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è','–∂–∏–ª—å—ë','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['bg','en','uk','ru'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –¥–ª—è —É–∫—Ä–∞–∏–Ω—Ü–µ–≤ –≤ –ë–æ–ª–≥–∞—Ä–∏–∏.', desc_en:'Official help for Ukrainians in Bulgaria.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤ —É –ë–æ–ª–≥–∞—Ä—ñ—ó.'}
  ]},

  /* –Æ–∂–Ω–∞—è –ï–≤—Ä–æ–ø–∞ */
  {region:'–Æ–∂–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ò—Ç–∞–ª–∏—è', code:'it', items:[
    {name:'Ministero dell‚ÄôInterno', url:'https://domande-risposte.protezionecivile.gov.it/it/approfondimento/assistenza-e-accoglienza-ucraina/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è'], langs:['it','uk'], desc_ru:'Protezione Temporanea: –ø–æ–¥–∞—á–∞, –ø—Ä–∞–≤–∞, –ø—Ä–æ–¥–ª–µ–Ω–∏–µ.', desc_en:'Temporary protection: application, rights, renewal.', desc_uk:'Protezione Temporanea: –ø–æ–¥–∞—á–∞, –ø—Ä–∞–≤–∞, –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è.'},
    {name:'JUMA Map (ARCI)', url:'https://www.jumamap.it/', help:['–∫–∞—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å–æ–≤','–∂–∏–ª—å—ë','—è–∑—ã–∫','—é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è'], langs:['it','en','uk'], desc_ru:'–ö–∞—Ä—Ç–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ–º–æ—â–∏ –ø–æ –≤—Å–µ–π –ò—Ç–∞–ª–∏–∏.', desc_en:'Map of free support services across Italy.', desc_uk:'–ú–∞–ø–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –¥–æ–ø–æ–º–æ–≥–∏ –ø–æ –≤—Å—ñ–π –Ü—Ç–∞–ª—ñ—ó.'}
  ]},
  {region:'–Æ–∂–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ò—Å–ø–∞–Ω–∏—è', code:'es', items:[
    {name:'Ministerio de Inclusi√≥n ‚Äî Ucrania', url:'https://ucraniaurgente.inclusion.gob.es/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è','–ø–æ—Å–æ–±–∏—è','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['es','uk'], desc_ru:'–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞—â–∏—Ç—ã, –ø—Ä–∞–≤–∞ –Ω–∞ –∂–∏–ª—å—ë, –º–µ–¥–∏—Ü–∏–Ω—É, —Ä–∞–±–æ—Ç—É.', desc_en:'Temporary protection, access to housing, healthcare, jobs.', desc_uk:'–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞—Ö–∏—Å—Ç—É, –ø—Ä–∞–≤–∞ –Ω–∞ –∂–∏—Ç–ª–æ, –º–µ–¥–∏—Ü–∏–Ω—É, —Ä–æ–±–æ—Ç—É.'},
    {name:'Cruz Roja Espa√±ola', url:'https://www2.cruzroja.es/', help:['–∂–∏–ª—å—ë','–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è'], langs:['es','en'], desc_ru:'–†–∞–∑–º–µ—â–µ–Ω–∏–µ, —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ, –ø–æ–º–æ—â—å —Å–µ–º—å—è–º –∏ –¥–µ—Ç—è–º.', desc_en:'Accommodation, accompaniment and family support.', desc_uk:'–†–æ–∑–º—ñ—â–µ–Ω–Ω—è, —Å—É–ø—Ä–æ–≤—ñ–¥, –¥–æ–ø–æ–º–æ–≥–∞ —Å—ñ–º\'—è–º —Ç–∞ –¥—ñ—Ç—è–º.'}
  ]},
  {region:'–Æ–∂–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è', code:'pt', items:[
    {name:'AIMA ‚Äî Immigration', url:'https://aima.gov.pt/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞'], langs:['pt','en','uk'], desc_ru:'–ò–º–º–∏–≥—Ä–∞—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.', desc_en:'Immigration and protection, documents.', desc_uk:'–Ü–º–º—ñ–≥—Ä–∞—Ü—ñ—è —Ç–∞ –∑–∞—Ö–∏—Å—Ç, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤.'}
  ]},
  {region:'–Æ–∂–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–ì—Ä–µ—Ü–∏—è', code:'gr', items:[
    {name:'Ministry of Migration & Asylum', url:'https://help.unhcr.org/greece/displaced-people-from-ukraine/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞'], langs:['el','en','uk'], desc_ru:'–ò–º–º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –∑–∞—â–∏—Ç–∞.', desc_en:'Migration rules and protection.', desc_uk:'–Ü–º–º—ñ–≥—Ä–∞—Ü—ñ–π–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ –∑–∞—Ö–∏—Å—Ç.'}
  ]},
  {region:'–Æ–∂–Ω–∞—è –ï–≤—Ä–æ–ø–∞', country:'–•–æ—Ä–≤–∞—Ç–∏—è', code:'hr', items:[
    {name:'Croatia for Ukraine', url:'https://hrvatskazaukrajinu.gov.hr/', help:['–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è','–∂–∏–ª—å—ë','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['hr','en','uk'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–º–æ—â–∏.', desc_en:'Official help platform.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–æ–ø–æ–º–æ–≥–∏.'}
  ]},

  /* –ë–µ–Ω–∏–ª—é–∫—Å */
  {region:'–ë–µ–Ω–∏–ª—é–∫—Å', country:'–ë–µ–ª—å–≥–∏—è', code:'be', items:[
    {name:'Info-Ukraine (BE)', url:'https://info-ukraine.be/en/assistance-belgium', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è','–∂–∏–ª—å—ë'], langs:['fr','nl','en','uk'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ë–µ–ª—å–≥–∏–∏ –¥–ª—è —É–∫—Ä–∞–∏–Ω—Ü–µ–≤.', desc_en:'Official Belgian information for Ukrainians.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ë–µ–ª—å–≥—ñ—ó –¥–ª—è —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤.'},
    {name:'Fedasil', url:'https://www.fedasil.be/', help:['–∂–∏–ª—å—ë','–ø—Ä–∏—ë–º'], langs:['fr','nl','en'], desc_ru:'–§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ –ø–æ –ø—Ä–∏—ë–º—É –ø—Ä–æ—Å–∏—Ç–µ–ª–µ–π —É–±–µ–∂–∏—â–∞.', desc_en:'Federal agency for reception of asylum seekers.', desc_uk:'–§–µ–¥–µ—Ä–∞–ª—å–Ω–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ –∑ –ø—Ä–∏–π–æ–º—É —à—É–∫–∞—á—ñ–≤ –ø—Ä–∏—Ç—É–ª–∫—É.'},
    {name:'CGRS/CGRA', url:'https://www.cgvs.be/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','—Å—Ç–∞—Ç—É—Å'], langs:['fr','nl','en'], desc_ru:'–ü—Ä–æ—Ü–µ–¥—É—Ä—ã —É–±–µ–∂–∏—â–∞ –∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—â–∏—Ç—ã.', desc_en:'Asylum procedures and protection status.', desc_uk:'–ü—Ä–æ—Ü–µ–¥—É—Ä–∏ –ø—Ä–∏—Ç—É–ª–∫—É —Ç–∞ —Å—Ç–∞—Ç—É—Å—É –∑–∞—Ö–∏—Å—Ç—É.'},
    {name:'Red Cross Belgium', url:'https://www.rodekruis.be/', help:['–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è','–∂–∏–ª—å—ë'], langs:['fr','nl','en'], desc_ru:'–ö—Ä–∞—Å–Ω—ã–π –ö—Ä–µ—Å—Ç: –ø–æ–¥–¥–µ—Ä–∂–∫–∞, —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ, —Å–æ—Ü–ø–æ–º–æ—â—å.', desc_en:'Red Cross: support, accommodation and social aid.', desc_uk:'–ß–µ—Ä–≤–æ–Ω–∏–π –•—Ä–µ—Å—Ç: –ø—ñ–¥—Ç—Ä–∏–º–∫–∞, —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è, —Å–æ—Ü–¥–æ–ø–æ–º–æ–≥–∞.'},
    {name:'VDAB / Actiris / Le Forem', url:'https://www.vdab.be/', help:['—Ä–∞–±–æ—Ç–∞'], langs:['nl','fr','en'], desc_ru:'–°–ª—É–∂–±—ã –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –§–ª–∞–Ω–¥—Ä–∏–∏, –ë—Ä—é—Å—Å–µ–ª—è –∏ –í–∞–ª–ª–æ–Ω–∏–∏.', desc_en:'Employment services of Flanders, Brussels and Wallonia.', desc_uk:'–°–ª—É–∂–±–∏ –∑–∞–π–Ω—è—Ç–æ—Å—Ç—ñ –§–ª–∞–Ω–¥—Ä—ñ—ó, –ë—Ä—é—Å—Å–µ–ª—è —Ç–∞ –í–∞–ª–ª–æ–Ω—ñ—ó.'}
  ]},
  {region:'–ë–µ–Ω–∏–ª—é–∫—Å', country:'–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã', code:'nl', items:[
    {name:'Government ‚Äî Ukraine', url:'https://www.government.nl/topics/reception-of-refugees-from-ukraine', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–ø—Ä–∞–≤–æ–≤–∞—è'], langs:['nl','en','uk'], desc_ru:'–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç–µ –∏ –ø—Ä–∞–≤–∞—Ö.', desc_en:'Information on temporary protection and rights.', desc_uk:'–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ç–∏–º—á–∞—Å–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç —Ç–∞ –ø—Ä–∞–≤–∞.'},
    {name:'RefugeeHelp', url:'https://www.refugeehelp.nl/', help:['–∂–∏–ª—å—ë','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è','—Ä–∞–±–æ—Ç–∞'], langs:['nl','en','uk','ru'], desc_ru:'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –ø–æ–º–æ—â–∏: –∂–∏–ª—å—ë, —Ä–∞–±–æ—Ç–∞, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.', desc_en:'Official help portal: housing, jobs, education.', desc_uk:'–û—Ñ—ñ—Ü—ñ–π–Ω–∏–π –ø–æ—Ä—Ç–∞–ª –¥–æ–ø–æ–º–æ–≥–∏: –∂–∏—Ç–ª–æ, —Ä–æ–±–æ—Ç–∞, –æ—Å–≤—ñ—Ç–∞.'}
  ]},

  /* –ü—Ä–∏–±–∞–ª—Ç–∏–∫–∞ */
  {region:'–ü—Ä–∏–±–∞–ª—Ç–∏–∫–∞', country:'–≠—Å—Ç–æ–Ω–∏—è', code:'ee', items:[
    {name:'Kriis.ee ‚Äî Ukraine', url:'https://www.kriis.ee/en/ukraine', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–∂–∏–ª—å—ë','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['et','en','uk','ru'], desc_ru:'–ì–æ—Å–ø–æ—Ä—Ç–∞–ª –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É–∫—Ä–∞–∏–Ω—Ü–µ–≤ –≤ –≠—Å—Ç–æ–Ω–∏–∏.', desc_en:'Government support portal for Ukrainians in Estonia.', desc_uk:'–î–µ—Ä–∂–ø–æ—Ä—Ç–∞–ª –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤ –≤ –ï—Å—Ç–æ–Ω—ñ—ó.'}
  ]},
  {region:'–ü—Ä–∏–±–∞–ª—Ç–∏–∫–∞', country:'–õ–∞—Ç–≤–∏—è', code:'lv', items:[
    {name:'Ukraine-Latvija', url:'https://livelatvia.lv/ru/', help:['–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞','–∂–∏–ª—å—ë','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['lv','en','uk'], desc_ru:'–ü–æ—Ä—Ç–∞–ª –ø–æ–º–æ—â–∏ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –õ–∞—Ç–≤–∏–∏.', desc_en:'Latvian government help portal.', desc_uk:'–ü–æ—Ä—Ç–∞–ª –¥–æ–ø–æ–º–æ–≥–∏ —É—Ä—è–¥—É –õ–∞—Ç–≤—ñ—ó.'}
  ]},
  {region:'–ü—Ä–∏–±–∞–ª—Ç–∏–∫–∞', country:'–õ–∏—Ç–≤–∞', code:'lt', items:[
    {name:'Migracija.lt', url:'https://www.migracija.lt/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞'], langs:['lt','en','uk','ru'], desc_ru:'–ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–ª—É–∂–±–∞ –õ–∏—Ç–≤—ã.', desc_en:'Lithuanian migration service.', desc_uk:'–ú—ñ–≥—Ä–∞—Ü—ñ–π–Ω–∞ —Å–ª—É–∂–±–∞ –õ–∏—Ç–≤–∏.'}
  ]},

  /* –°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞ */
  {region:'–°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞', country:'–°–®–ê', code:'us', items:[
    {name:'USCIS ‚Äî Uniting for Ukraine', url:'https://www.uscis.gov/humanitarian/uniting-for-ukraine', help:['–ø—Ä–∞–≤–æ–≤–∞—è','—Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ'], langs:['en','uk'], desc_ru:'–ü—É—Ç–∏ –≤—ä–µ–∑–¥–∞ –∏ –ø–∞—Ä–æ–ª –¥–ª—è —É–∫—Ä–∞–∏–Ω—Ü–µ–≤ (—Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ).', desc_en:'Pathways and parole for Ukrainians (sponsorship).', desc_uk:'–®–ª—è—Ö–∏ –≤\'—ó–∑–¥—É —Ç–∞ –ø–∞—Ä–æ–ª—å –¥–ª—è —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤ (—Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ).'},
    {name:'Welcome.US', url:'https://welcome.us/', help:['–∂–∏–ª—å—ë','—Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ','–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è'], langs:['en','uk'], desc_ru:'–ü–æ–¥–±–æ—Ä —Å–ø–æ–Ω—Å–æ—Ä–æ–≤ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤, –ø–æ–º–æ—â—å —Å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º.', desc_en:'Sponsors & communities matching, housing support.', desc_uk:'–ü—ñ–¥–±—ñ—Ä —Å–ø–æ–Ω—Å–æ—Ä—ñ–≤ —Ç–∞ —Å–ø—ñ–ª—å–Ω–æ—Ç, –¥–æ–ø–æ–º–æ–≥–∞ –∑ —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è–º.'},
    {name:'American Job Centers (DOL)', url:'https://www.dol.gov/agencies/eta/american-job-centers', help:['—Ä–∞–±–æ—Ç–∞','–æ–±—É—á–µ–Ω–∏–µ'], langs:['en','es'], desc_ru:'–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç—ã –∏ –æ–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä—ã –∑–∞–Ω—è—Ç–æ—Å—Ç–∏.', desc_en:'Employment and training via American Job Centers.', desc_uk:'–ü–æ—à—É–∫ —Ä–æ–±–æ—Ç–∏ —Ç–∞ –Ω–∞–≤—á–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∏ –∑–∞–π–Ω—è—Ç–æ—Å—Ç—ñ.'},
    {name:'American Red Cross', url:'https://www.redcross.org/', help:['–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è','—ç–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è'], langs:['en'], desc_ru:'–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –∏ –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è –ø–æ–º–æ—â—å.', desc_en:'Emergency and humanitarian assistance.', desc_uk:'–ï–∫—Å—Ç—Ä–µ–Ω–∞ —Ç–∞ –≥—É–º–∞–Ω—ñ—Ç–∞—Ä–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞.'}
  ]},
  {region:'–°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞', country:'–ö–∞–Ω–∞–¥–∞', code:'ca', items:[
    {name:'IRCC ‚Äî CUAET', url:'https://www.canada.ca/en/immigration-refugees-citizenship/services/immigrate-canada/ukraine-measures.html', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–≤–∏–∑–∞'], langs:['en','fr','uk'], desc_ru:'–ü—Ä–æ–≥—Ä–∞–º–º–∞ CUAET –∏ –º–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏.', desc_en:'CUAET program and support measures.', desc_uk:'–ü—Ä–æ–≥—Ä–∞–º–∞ CUAET —Ç–∞ –∑–∞—Ö–æ–¥–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.'},
    {name:'Services for newcomers ‚Äî map', url:'https://ircc.canada.ca/english/newcomers/services/', help:['–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è','–∂–∏–ª—å—ë','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['en','fr'], desc_ru:'–ö–∞—Ä—Ç–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –Ω–æ–≤–æ–ø—Ä–∏–±—ã–≤—à–∏—Ö.', desc_en:'Map of free newcomer services.', desc_uk:'–ú–∞–ø–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –¥–ª—è –Ω–æ–≤–æ–ø—Ä–∏–±—É–ª–∏—Ö.'},
    {name:'Canadian Red Cross', url:'https://www.redcross.ca/', help:['–≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è','–∂–∏–ª—å—ë'], langs:['en','fr'], desc_ru:'–ö—Ä–∞—Å–Ω—ã–π –ö—Ä–µ—Å—Ç –ö–∞–Ω–∞–¥—ã.', desc_en:'Canadian Red Cross.', desc_uk:'–ß–µ—Ä–≤–æ–Ω–∏–π –•—Ä–µ—Å—Ç –ö–∞–Ω–∞–¥–∏.'}
  ]},

  /* –û–∫–µ–∞–Ω–∏—è */
  {region:'–û–∫–µ–∞–Ω–∏—è', country:'–ê–≤—Å—Ç—Ä–∞–ª–∏—è', code:'au', items:[
    {name:'Department of Home Affairs', url:'https://www.homeaffairs.gov.au/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–≤–∏–∑–∞'], langs:['en','uk'], desc_ru:'–í–∏–∑—ã –∏ –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.', desc_en:'Visas and humanitarian programs.', desc_uk:'–í—ñ–∑–∏ —Ç–∞ –≥—É–º–∞–Ω—ñ—Ç–∞—Ä–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.'},
    {name:'Services Australia', url:'https://www.servicesaustralia.gov.au/', help:['–ø–æ—Å–æ–±–∏—è','–º–µ–¥–∏—Ü–∏–Ω–∞'], langs:['en'], desc_ru:'Centrelink, Medicare –∏ –¥—Ä—É–≥–∏–µ –≤—ã–ø–ª–∞—Ç—ã.', desc_en:'Centrelink, Medicare and other payments.', desc_uk:'Centrelink, Medicare —Ç–∞ —ñ–Ω—à—ñ –≤–∏–ø–ª–∞—Ç–∏.'}
  ]},
  {region:'–û–∫–µ–∞–Ω–∏—è', country:'–ù–æ–≤–∞—è –ó–µ–ª–∞–Ω–¥–∏—è', code:'nz', items:[
    {name:'Immigration New Zealand', url:'https://www.immigration.govt.nz/', help:['–ø—Ä–∞–≤–æ–≤–∞—è','–≤–∏–∑–∞'], langs:['en','uk'], desc_ru:'–í–∏–∑—ã –∏ —Å—Ç–∞—Ç—É—Å, —Å–ø–µ—Ü–º–µ—Ä—ã –¥–ª—è —É–∫—Ä–∞–∏–Ω—Ü–µ–≤.', desc_en:'Visas and status, special measures for Ukrainians.', desc_uk:'–í—ñ–∑–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å, —Å–ø–µ—Ü–∑–∞—Ö–æ–¥–∏ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤.'},
    {name:'Work and Income (MSD)', url:'https://www.mfat.govt.nz/en/countries-and-regions/europe/ukraine/russian-invasion-of-ukraine', help:['–ø–æ—Å–æ–±–∏—è','—Ä–∞–±–æ—Ç–∞'], langs:['en'], desc_ru:'–í—ã–ø–ª–∞—Ç—ã, –ø–æ–º–æ—â—å —Å —Ä–∞–±–æ—Ç–æ–π –∏ –∂–∏–ª—å—ë–º.', desc_en:'Payments, help with jobs and housing.', desc_uk:'–í–∏–ø–ª–∞—Ç–∏, –¥–æ–ø–æ–º–æ–≥–∞ –∑ —Ä–æ–±–æ—Ç–æ—é —Ç–∞ –∂–∏—Ç–ª–æ–º.'}
  ]}
];

/* ========= –≠–õ–ï–ú–ï–ù–¢–´ ========= */
const resultsWrap = document.getElementById('results');
const regionSelect = document.getElementById('regionSelect');
const tagSelect = document.getElementById('tagSelect');
const searchInput = document.getElementById('searchInput');
const stats = document.getElementById('stats');
const emptyState = document.getElementById('emptyState');
const toTop = document.getElementById('toTop');

/* ========= –£–¢–ò–õ–ò–¢–´ ========= */
const uniq = arr => Array.from(new Set(arr)).sort((a,b)=>a.localeCompare(b,'ru'));

/* –∑–∞–ø–æ–ª–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä—ã */
function collectFilters(){
  const regions = uniq(DATA.map(x=>x.region));
  regions.forEach(r => {
    const opt = document.createElement('option');
    opt.value = r; opt.textContent = r;
    opt.setAttribute('data-i18n', r);
    regionSelect.appendChild(opt);
  });
  const tags = uniq(DATA.flatMap(c=>c.items.flatMap(i=>i.help||[])));
  tags.forEach(t => {
    const opt = document.createElement('option');
    opt.value = t; opt.textContent = t;
    opt.setAttribute('data-i18n', t);
    tagSelect.appendChild(opt);
  });
}

/* –∫–∞—Ä—Ç–æ—á–∫–∞ */
function siteCard(countryRu, code, site){
  const lang = currentLang();
  const descText = pickDesc(site, lang);

  const descRU = site.desc_ru || (site.desc && site.desc.ru) || '';
  // –µ—Å–ª–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –≤–¥—Ä—É–≥ –µ—Å—Ç—å –∫–∞–≤—ã—á–∫–∏ ‚Äî —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç
  const descAttr = descRU ? ` data-i18n="${descRU.replace(/"/g,'&quot;')}"` : '';
  const descDefault = descRU || descText;

  const card = document.createElement('div');
  card.className = 'link-card clickable';
  card.innerHTML = `
    <div class="card-top">
      <span class="fi fi-${code} flag" aria-hidden="true"></span>
      <div>
        <h3 class="link-title">${site.name}</h3>
        <div class="text-muted small country-line" translate="no" data-i18n="${countryRu}">${countryRu}</div>
        <div class="badges">
          ${(site.langs||[]).slice(0,4).map(l=>`<span class="badge rounded-pill">${l}</span>`).join('')}
        </div>
      </div>
    </div>
    <!-- –°–°–´–õ–ö–£ –ü–û–ö–ê–ó–´–í–ê–ï–ú –¢–ï–ö–°–¢–û–ú (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è <a> ‚Äî –Ω–æ—Ä–º, –Ω–æ –±–µ–∑ —Ä–∞—Å—Ç—è–Ω—É—Ç–æ–π —Å—Å—ã–ª–∫–∏) -->
    <div class="link-url"><a class="url-a" href="${site.url}" target="_blank" rel="noopener">üîó ${site.url}</a></div>

    <div class="link-desc"${descAttr}>${descDefault}</div>

    <div class="meta">
      <div class="tags">
        ${(site.help||[]).map(t=>`<span class="tag" data-i18n="${t}">${t}</span>`).join('')}
      </div>
      <button class="copy-btn" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É" aria-label="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É">
        <i class="bi bi-clipboard"></i>
      </button>
    </div>
  `;

  // –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –Ω–µ –¥–∞—ë–º –∫–ª–∏–∫—É –∏–¥—Ç–∏ –≤—ã—à–µ
  const copyBtn = card.querySelector('.copy-btn');
  copyBtn.addEventListener('click', async (e)=>{
    e.preventDefault();
    e.stopPropagation();
    try{
      await navigator.clipboard.writeText(site.url);
      e.currentTarget.innerHTML = '<i class="bi bi-clipboard-check"></i>';
      setTimeout(()=>{ e.currentTarget.innerHTML = '<i class="bi bi-clipboard"></i>'; }, 1200);
    }catch(_){}
  });

  // –∫–ª–∏–∫ –ø–æ –ö–ê–†–¢–û–ß–ö–ï ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Å–∞–π—Ç (–∫—Ä–æ–º–µ –∫–ª–∏–∫–∞ –ø–æ —Å—Å—ã–ª–∫–µ/–∫–æ–ø–∫–µ)
  card.addEventListener('click', (e)=>{
    if (e.target.closest('.copy-btn')) return;     // –∫–æ–ø–∫–∞
    if (e.target.closest('.url-a'))    return;     // —É–∂–µ –∫–ª–∏–∫–Ω—É–ª–∏ –ø–æ <a>
    window.open(site.url, '_blank', 'noopener');
  });

  return card;
}

/* —Å–µ–∫—Ü–∏—è —Å—Ç—Ä–∞–Ω—ã */
function countrySection(countryRu, code, regionRu, items){
  const sec = document.createElement('section');
  sec.className = 'country-section';

  const header = document.createElement('div');
  header.className = 'country-header';
  header.innerHTML = `
    <span class="fi fi-${code}"></span>
    <span class="country-name" data-i18n="${countryRu}">${countryRu}</span>
    <div class="country-region">
      <span class="badge rounded-pill" data-i18n="${regionRu}">${regionRu}</span>
      <span class="badge rounded-pill"># ${items.length}</span>
    </div>
  `;

  const grid = document.createElement('div');
  grid.className = 'cards-grid';
  items.forEach(s => grid.appendChild(siteCard(countryRu, code, s)));

  sec.appendChild(header);
  sec.appendChild(grid);
  return sec;
}

/* –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ (–º—è–≥–∫–æ, —Å –∑–∞—â–∏—Ç–æ–π) */
function retranslate(){
  try{
    if (window.translatePage) { window.translatePage(); return; }
    if (window.i18n && typeof window.i18n.translateAll==='function') { window.i18n.translateAll(); return; }
    document.dispatchEvent(new CustomEvent('i18n:update'));
  }catch(e){}
}
/* –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π –ø–ª–∞–≥–∏–Ω-–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ (–±–µ–∑–æ–ø–∞—Å–Ω–æ, –±–µ–∑ —Ü–∏–∫–ª–∞) */
function runStaticTranslator(){
  try{
    if (window.translatePage) { window.translatePage(); return; }
    if (window.i18n && typeof window.i18n.translateAll==='function') { window.i18n.translateAll(); return; }
  }catch(e){}
}

/* —Ä–µ–Ω–¥–µ—Ä */
function render(){
  const qRaw = (searchInput.value||'').trim();
  const q = normalizeQuery(qRaw);
  const region = regionSelect.value;
  const tag = tagSelect.value;

  const groups = [];
  DATA.forEach(c => {
    if(region && c.region !== region) return;
    const items = c.items.filter(site => {
      const hay = [
        c.country, c.region, site.name,
        site.desc_ru || (site.desc && site.desc.ru) || '',
        site.desc_en || (site.desc && site.desc.en) || '',
        site.desc_uk || (site.desc && site.desc.uk) || '',
        ...(site.help||[]), ...(site.langs||[]), site.url
      ].join(' ').toLowerCase();
      const okQ = !q || hay.includes(q) || hay.includes(qRaw.toLowerCase());
      const okT = !tag || (site.help||[]).includes(tag);
      return okQ && okT;
    });
    if(items.length) groups.push({country:c.country, code:c.code, region:c.region, items});
  });

  resultsWrap.innerHTML = '';
  if(!groups.length){
    emptyState.classList.remove('d-none');
  }else{
    emptyState.classList.add('d-none');
    groups.sort((a,b)=> a.region.localeCompare(b.region,'ru') || a.country.localeCompare(b.country,'ru'));
    groups.forEach(g => resultsWrap.appendChild(countrySection(g.country, g.code, g.region, g.items)));
  }

  const totalLinks = DATA.reduce((acc,c)=>acc + c.items.length, 0);
  const countries = uniq(DATA.map(c=>c.country)).length;
  const regions = uniq(DATA.map(c=>c.region)).length;
  const onPage = groups.reduce((a,g)=>a+g.items.length,0);
  stats.innerHTML = `
    <span class="stat"><span data-i18n="–°—Å—ã–ª–æ–∫:">–°—Å—ã–ª–æ–∫:</span> <strong>${onPage}</strong> / ${totalLinks}</span>
    <span class="stat"><span data-i18n="–°—Ç—Ä–∞–Ω:">–°—Ç—Ä–∞–Ω:</span> <strong>${countries}</strong></span>
    <span class="stat"><span data-i18n="–†–µ–≥–∏–æ–Ω–æ–≤:">–†–µ–≥–∏–æ–Ω–æ–≤:</span> <strong>${regions}</strong></span>
  `;
runStaticTranslator();
}

function debounce(fn, ms=250){ let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a), ms);} }

collectFilters();
render();

searchInput.addEventListener('input', debounce(render, 200));
regionSelect.addEventListener('change', render);
tagSelect.addEventListener('change', render);

window.addEventListener('scroll', () => {
  if(window.scrollY > 600) toTop.style.display='inline-flex'; else toTop.style.display='none';
});
toTop.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

/* –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ ‚Üí –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è */
// –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º 'i18n:update' –∫–∞–∫ –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô —Ç—Ä–∏–≥–≥–µ—Ä
// –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–µ—Ä–∂–∫—É, —á—Ç–æ–±—ã –ø–ª–∞–≥–∏–Ω —É—Å–ø–µ–ª –æ–±–Ω–æ–≤–∏—Ç—å <html lang="...">
document.addEventListener('i18n:update', () => {
  setTimeout(render, 100); // 100ms –∑–∞–¥–µ—Ä–∂–∫–∞
});
// –µ—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è <html lang="..."> ‚Äî —Ç–æ–∂–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º
new MutationObserver(() => setTimeout(render, 100))
  .observe(document.documentElement, { attributes: true, attributeFilter: ['lang'] });

// –µ—Å–ª–∏ —è–∑—ã–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç –∫–ª–∏–∫–æ–º –ø–æ —Å–≤–∏—Ç—á–µ—Ä—É ‚Äî —Ç—Ä–∏–≥–≥–µ—Ä–∏–º —Å–æ–±—ã—Ç–∏–µ –≤—Ä—É—á–Ω—É—é
const langSwitcher = document.querySelector('#language-switcher-container');
if (langSwitcher) {
  langSwitcher.addEventListener('click', (e) => {
    if (e.target.closest('[data-lang]') || e.target.closest('.dropdown-item')) {
      document.dispatchEvent(new CustomEvent('i18n:update'));
    }
  });
}

</script>
{% endblock %}
